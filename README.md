# Smart Meeting Orchestrator

SMS-based meeting coordination using MCP (Model Context Protocol) architecture with Surge SMS API.

## ğŸ¯ Overview

Transform your family/team coordination with SMS-powered AI! Text simple commands like "Family meeting about vacation this weekend" and the AI will:
- Find everyone's availability
- Create Google Meet links  
- Send calendar invites
- Coordinate across multiple systems seamlessly

## ğŸ—ï¸ Architecture

```
Family SMS â†’ Surge SMS â†’ SMS Coordination MCP â†’ Multiple AI Tools â†’ Responses via SMS
```

**MCP Server Stack:**
- **SMS Coordination MCP** - Main hub (routes commands, manages conversations)
- **Google Meet MCP** - Creates meeting links
- **Meeting Intelligence MCP** - Learns patterns, generates smart agendas
- **Google Calendar MCP** - Scheduling and availability (coming soon)
- **Strava MCP** - Fitness context for optimal meeting times (integration ready)

## ğŸš€ Quick Start

### Prerequisites

1. **Surge SMS Account** (https://surge.app/)
   - Get API key (sk_live_...)
   - Get Account ID (acct_...)

2. **Railway Account** (https://railway.app/)
   - Free tier works for MVP

### Test Your Setup

```bash
cd tests/
python surge_sms_test.py
```

Expected: You receive an SMS on your phone!

### Deploy to Railway

1. **Connect Repository**
   ```bash
   git remote add origin https://github.com/yourusername/smart-meeting-orchestrator.git
   git add .
   git commit -m "Initial Smart Meeting Orchestrator"
   git push -u origin main
   ```

2. **Railway Setup**
   - Connect your GitHub repo to Railway
   - Add PostgreSQL database
   - Set environment variables:
     ```env
     SURGE_SMS_API_KEY=sk_live_your_key_here
     SURGE_ACCOUNT_ID=acct_your_id_here
     DATABASE_URL=[Auto-generated by Railway]
     ENVIRONMENT=production
     ```

3. **Configure Surge Webhook**
   - Go to https://hq.surge.app/webhooks
   - Add webhook: `https://your-railway-app.up.railway.app/webhook/sms`
   - Enable `message.received` events

## ğŸ“± Usage

### Getting Started
Text your Surge number: `"My name is John Smith"`

### Basic Commands
- `"Family meeting about vacation this weekend"`
- `"Schedule call with everyone next week"`  
- `"What's our next meeting?"`
- `"Cancel today's meeting"`

### Expected Responses
```
âœ… Meeting scheduled!

ğŸ“… Summer Vacation Planning
ğŸ• Saturday, June 15 at 7:00 PM
ğŸ‘¥ All 4 family members invited
ğŸ”— Join: https://meet.google.com/abc-xyz-demo

Calendar invites sent to everyone with Google Calendar!
```

## ğŸ”§ API Endpoints

- `GET /health` - Health check
- `POST /webhook/sms` - Surge SMS webhook
- `GET /teams` - List teams
- `GET /teams/{id}/members` - List team members
- `POST /teams/{id}/members` - Add team member
- `GET /meetings` - List recent meetings

## ğŸ—„ï¸ Database Schema

**Teams** - Family/team groups
**TeamMembers** - People with phone numbers and preferences  
**Meetings** - Scheduled meetings with Google Meet links
**Conversations** - SMS conversation context and history

## ğŸ”® Roadmap

### Phase 1: MVP (Current)
- âœ… SMS coordination via Surge
- âœ… Basic meeting scheduling
- âœ… Mock Google Meet integration
- âœ… PostgreSQL database
- âœ… Railway deployment

### Phase 2: Intelligence Layer
- [ ] Real Google Calendar integration
- [ ] Strava fitness context integration
- [ ] Meeting pattern learning
- [ ] Smart agenda generation
- [ ] Follow-up tracking

### Phase 3: Advanced Features
- [ ] Multi-modal integration (voice, email)
- [ ] Cross-team coordination
- [ ] Advanced scheduling AI
- [ ] Meeting effectiveness analytics
- [ ] Integration with task management

## ğŸ› ï¸ Development

### Local Development
```bash
# Install dependencies
pip install -r requirements.txt

# Set environment variables
export SURGE_SMS_API_KEY=sk_live_...
export SURGE_ACCOUNT_ID=acct_...
export DATABASE_URL=postgresql://...

# Run locally (tables auto-create on startup via FastAPI lifespan)
uvicorn main:app --reload

# Admin / Debug Endpoints (protected)
# Include header: X-API-Key: <your_admin_key>
```

### Testing
```bash
# Test Surge SMS integration
python tests/surge_sms_test.py

# Test webhook endpoint
curl -X POST http://localhost:8000/webhook/sms \
  -H "Content-Type: application/json" \
  -d '{"event": "message.received", "message": {"body": "test"}}'
```

## ğŸ”’ Security & Compliance

- Phone number verification through Surge
- TCPA compliance for SMS messaging
- Data encryption in transit and at rest
- Rate limiting to prevent abuse
- Webhook signature validation (recommended)

## ğŸ’° Costs

- **Railway**: Free tier (upgrade as needed)
- **Surge SMS**: ~$0.01-0.10 per message
- **PostgreSQL**: Included with Railway
- **Total**: Under $10/month for family use

## ğŸ¤ Contributing

This is a personal family project that demonstrates SMS-MCP architecture patterns. Feel free to fork and adapt for your own use cases!

### Recent Refactor Notes
- Consolidated multiple legacy `main_*.py` entrypoints into a single `main.py` using FastAPI lifespan.
- Added lightweight admin & debug API key protection (header: `X-API-Key`).
- Database portability improvements (custom GUID type, SQLite fallback for tests).
- Initial pytest suite added; expand with webhook & service mocks next.

## ğŸ“š Learn More

- [Model Context Protocol](https://modelcontextprotocol.io/)
- [Surge SMS API Docs](https://surge.app/)
- [Railway Deployment Guide](https://railway.app/)
- [FastAPI Documentation](https://fastapi.tiangolo.com/)

## ğŸ‰ Success Metrics

After 1 week of family use:
- âœ… All family members onboarded and using regularly
- âœ… 5+ successful meetings scheduled via SMS
- âœ… "This is so convenient!" feedback from family
- âœ… Ready to expand to Personal Life OS features

---

**Built with â¤ï¸ for family coordination. SMS makes AI accessible to everyone!**
